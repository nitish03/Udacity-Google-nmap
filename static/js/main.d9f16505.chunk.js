(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAzFBMVEUAAADfACDZACbYACfYACfRAC7VACvZACbaACbYACfXACjYACfYACfZACbWACnYACfYACfZACbXACjYACfYACfXACjaACXYACfZACbYACfXACjYACfZACbYACfXACjYACfXACjXACjYACfMADPYACfZACbYACfbACT/AADYACf/AADZACbXACjVACvYACf/AADaACXYACfZACbZACbYACfWACnXACjXACjXACjZACbXACjXACjYACfYACfTACzbACTaACXYACfYACcAAABwwk/dAAAAQnRSTlMACKbwqwsMcURIeVz2ZCykaH/IgtauS5uTlmzLa5GnT1nBsQVvflUVAe8DStUk5AIpNC9X4zhAgHrHjo2LiRccMJwx4l4nAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+IKHRIMCbVQB3wAAACNSURBVBjTXc5FFsJAFETRR4IEbyRYcHcPrn//i0JCGHQN76nBAwKGGQyFI1YUYnwWT4gkU2mVIZr9Qi4vYheKqkTZg4ojYlRrqk7eg4Yt0rRabbsjHtCVHjjSH/gwHI1hMmX2h/kCli1WPixlDZstrg+u7ECZsNfhcNTgpD/OOlx0uP7g5tzh8XzH5eAF6J8TAjz0tn8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTAtMjlUMTg6MTI6MDkrMDE6MDCAScPAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTEwLTI5VDE4OjEyOjA5KzAxOjAw8RR7fAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},144:function(e,t,n){e.exports=n(350)},149:function(e,t,n){},151:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(59),o=n.n(i),c=(n(149),n(10)),s=n(11),l=n(15),u=n(14),A=n(16),f=(n(151),n(34));window.gm_authFailure=function(){alert("Something went wrong. Please check your Google API key and try again.")};var h=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#0e3545"},{visibility:"on"}]}],p=Object(f.withScriptjs)(Object(f.withGoogleMap)(function(e){return r.a.createElement(f.GoogleMap,{defaultZoom:8,zoom:e.zoom,defaultCenter:{lat:30.66775,lng:-81.461511},center:{lat:parseFloat(e.center.lat),lng:parseFloat(e.center.lng)},defaultOptions:{styles:h}},e.markers&&e.markers.filter(function(e){return e.isVisible}).map(function(t,n,a){var i=e.venues.find(function(e){return e.id===t.id});return r.a.createElement(f.Marker,{key:n,position:{lat:parseFloat(t.lat),lng:parseFloat(t.lng)},onClick:function(){return e.markedInfoWindow(t)},animation:1===a.length?window.google.maps.Animation.BOUNCE:window.google.maps.Animation.DROP,icon:t.icon},t.isOpen&&i.bestPhoto&&r.a.createElement(f.InfoWindow,{onCloseClick:function(){return e.cancelInfo()}},r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"".concat(i.bestPhoto.prefix,"120x150").concat(i.bestPhoto.suffix),alt:"Place: ".concat(i.name)}),r.a.createElement("h3",null,i.name),r.a.createElement("p",null,i.location.address))))}))})),m=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p,Object.assign({},this.props,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyBB8RTKIWJ9hnl7f0bpQmY7ZCRRRSgx8nA",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{width:"70vw",height:"100vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(a.Component),d=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"rootURL",value:function(){return"https://api.foursquare.com/v2"}},{key:"auth",value:function(){var e={client_id:"1MOFPSZVAUKPPKPUEQUNZJVBZRVKY4DO020P0LRVO2PBRVQ3",client_secret:"VQVZJ1JXPSAUUDKPBVDCZ2JYPRMNHWX2GFADXTZGIMDXRCE1",v:"20181024"};return Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&")}},{key:"lists",value:function(){return{Accept:"application/Json"}}},{key:"urlBuild",value:function(e){return e?Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"):""}},{key:"startFetch",value:function(t,n,a){var r={method:n,headers:e.lists()};return fetch("".concat(e.rootURL()).concat(t,"?").concat(e.auth(),"&").concat(e.urlBuild(a)),r).then(function(e){return e.json()})}}]),e}(),C=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"search",value:function(e){return d.startFetch("/venues/search","GET",e)}},{key:"venueDetails",value:function(e){return d.startFetch("/venues/".concat(e),"GET")}},{key:"venuePhotos",value:function(e){return d.startFetch("/venues/".concat(e,"/photos"),"GET")}}]),e}(),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("li",{className:"list",onClick:function(){return e.props.handlePlaceList(e.props)},tabIndex:"0",role:"list"},this.props.name))}}]),t}(a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",{id:"placelist","aria-labelledby":"placelist"},this.props.venues&&this.props.venues.map(function(t,n){return r.a.createElement(b,Object.assign({},t,{key:n,handlePlaceList:e.props.handlePlaceList}))})))}}]),t}(a.Component),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFilterPlaces=function(){return""!==n.state.query.trim()?n.props.venues.filter(function(e){return e.name.toLowerCase().includes(n.state.query.toLowerCase())}):n.props.venues},n.handleSearchBar=function(e){n.setState({query:e.target.value});var t=n.props.venues.map(function(t){var a=t.name.toLowerCase().includes(e.target.value.toLowerCase()),r=n.props.markers.find(function(e){return e.id===t.id});return r.isVisible=!!a,r});n.props.searchState({info:t})},n.state={query:""},n}return Object(A.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("h1",null,"Search Restaurants"),r.a.createElement("input",{type:"search",id:"find",placeholder:"Find Your Place",onChange:this.handleSearchBar,"aria-label":"Search Places"}),r.a.createElement(v,Object.assign({},this.props,{venues:this.handleFilterPlaces(),handlePlaceList:this.props.handlePlaceList})))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1,errorInfo:null},n}return Object(A.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong. Please try again."):this.props.children}}]),t}(a.Component),j=n(143),O=n.n(j),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).markedInfoWindow=function(e){n.cancelInfo(),e.isOpen=!0,e.icon=O.a,n.setState({markers:Object.assign(n.state.markers,e)});var t=n.state.venues.find(function(t){return t.id===e.id});C.venueDetails(e.id).then(function(e){var a=Object.assign(t,e.response.venue);n.setState({venues:Object.assign(n.state.venues,a)})})},n.cancelInfo=function(){var e=n.state.markers.map(function(e){return e.isOpen=!1,e.icon="http://maps.google.com/mapfiles/ms/icons/green-dot.png",e});n.setState({markers:Object.assign(n.state.markers,e)})},n.handlePlaceList=function(e){var t=n.state.markers.find(function(t){return t.id===e.id});n.markedInfoWindow(t)},n.state={venues:[],markers:[],center:[],zoom:11,searchState:function(e){n.setState(e)}},n}return Object(A.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.search({near:"Jacksonville,FL",query:"Restaurant",limit:15}).then(function(t){var n=t.response.venues,a=t.response.geocode.feature.geometry.center,r=n.map(function(e){return{lat:e.location.lat,lng:e.location.lng,id:e.id,isOpen:!1,isVisible:!0,icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"}});e.setState({venues:n,markers:r,center:a}),console.log(t)}).catch(function(e){alert("Something went wrong. Please check your FourSquare API that failed, Please try again.")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,null,r.a.createElement(g,Object.assign({},this.state,{handlePlaceList:this.handlePlaceList})),r.a.createElement(m,Object.assign({},this.state,{markedInfoWindow:this.markedInfoWindow,cancelInfo:this.cancelInfo,onCloseClick:this.cancelInfo}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[144,2,1]]]);
//# sourceMappingURL=main.d9f16505.chunk.js.map